@startuml Retry
scale 600*600
hide footbox

Emetteur -> Serveur: envoi(message, destinataireId)
Serveur -> Serveur: trouveDestinataire(destinataireId)
alt destinataire trouvÃ©
loop tant que pas reÃ§u ou 10 fois
Serveur -> Destinataire: envoi(message)
end
Destinataire -> Serveur: message reÃ§u
Serveur -> Emetteur: message reÃ§u
else destinataire n'existe pas
Serveur -> Emetteur: pas de destinataire
end
@enduml